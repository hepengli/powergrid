network: powergrid.networks.ieee34:IEEE34Bus

time:
  horizon: 24
  days: 366

limits:
  vmin: 0.95
  vmax: 1.05
  s_slack_max: 2.5          # MVA (or consistent p.u.)
  pf_min: 0.8               # for controllable generators

storage_defaults:
  eta_ch: 0.98
  eta_dch: 0.98

# Named bus-based resources (you can add/delete freely)
generators:
  # id: {bus: <bus name>, p_min, p_max, q_min, q_max, cost: {a,b,c}}
  DG1:
    bus: "Bus 838"
    p_min: 0.0
    p_max: 0.4
    q_min: -0.3
    q_max:  0.3
    cost: {a: 100.0, b: 51.6, c: 0.4615}
  DG2:
    bus: "Bus 890"
    p_min: 0.0
    p_max: 0.5
    q_min: -0.375
    q_max:  0.375
    cost: {a: 100.0, b: 72.4, c: 0.5011}

slack:
  bus: "Bus 800"            # grid interconnect (P,Q bounded by s_slack_max)
  sell_discount: 0.9        # e.g., export paid at 90% of buy price

storage:
  # id: {bus, e_min, e_max, p_max, e_init}
  ESS1: {bus: "Bus 810", e_min: 0.3, e_max: 2.7, p_max: 0.5, e_init: 0.5}
  ESS2: {bus: "Bus 826", e_min: 0.2, e_max: 1.8, p_max: 0.4, e_init: 0.5}

capacitors:
  # id: {bus, q_mvar, max_step}
  # SCB1: {bus: "Bus 844", q_mvar: -0.30, max_step: 4}

regulators:
  # id: {bus, q_mvar, max_step}
  Regulator1: {
    fbus: "Bus 814", 
    tbus: "Bus RG10", 
    tap_neutral: 0,
    tap_max: 16,
    tap_min: -16, 
    tap_step_percent: 0.625,
    tap_pos: 12
  }
  Regulator2: {
    fbus: "Bus 852", 
    tbus: "Bus RG11", 
    tap_neutral: 0,
    tap_max: 16,
    tap_min: -16, 
    tap_step_percent: 0.625,
    tap_pos: 16
  }

renewables:
  # id: {bus, source: <solar|wind|custom:NAME>, scale}
  PV_A: {bus: "Bus 822", source: "solar", scale: 0.10}
  PV_B: {bus: "Bus 826", source: "solar", scale: 0.10}
  PV_C: {bus: "Bus 890", source: "solar", scale: 0.10}
  W_A:  {bus: "Bus 838", source: "wind",  scale: 0.15}
  W_B:  {bus: "Bus 810", source: "wind",  scale: 0.15}

data:
  adapter: microgrid.misocp.data_io:SimplePickleAdapter
  args:
    base_dir: "/Users/hepeng.li/Library/CloudStorage/OneDrive-UniversityofMaineSystem/code/python/powergrid/data"
    file: "data2023-2024.pkl"
    split: "test"
    load_key: "AZPS"
    solar_key: "SP15"
    wind_key: "SP15"
    price_key: "0096WD_7_N001"
    load_scale: 1.0     # multiply raw loads by this factor
